- 1.表格可编辑写法
```
        <!-- 可编辑写法start -->
        <template scope="scope">
          <div v-show="!scope.row.NameEdit" @dblclick="dbHandle($event,scope)" >{{scope.row.Name}}</div>
          <el-input v-show="scope.row.NameEdit" v-model="scope.row.Name" @blur="nameChange(scope)"></el-input>
        </template>
        <!-- 可编辑写法end -->
```
- 2.模拟数据
```
      created() {
        this.get();
      },

      get: function() {
        var that = this;
        var data = [{
          "InterID": "G16042100001",
          "Code": "3701001",
          "Name": 2,
          "BarCode": "3701001",
          "Model": "1*6",
          "Unit": "瓶",
          "SupUnit": "箱",
          "ConvRate": 1,
          "Manufacturer": "",
          "Remarks": "",
          "ShelfLifeDays": 0,
          "name": 1,
          "ShelfLifeManage": 0,
          "AutoCreateBatch": 0,
          "Memarks":2
        },
          {
            "InterID": "G16042100001",
            "Code": "3701001",
            "Name": 3,
            "BarCode": "3701001",
            "Model": "1*6",
            "Unit": "瓶",
            "SupUnit": "箱",
            "ConvRate": 2,
            "Manufacturer": "",
            "Remarks": "",
            "ShelfLifeDays": 0,
            "name": 1,
            "ShelfLifeManage": 0,
            "AutoCreateBatch": 0,
            "Memarks":3
          }];
        that.splbs = data;
      }
```

- 3.业务函数
```
    methods: {
      //参数改变时
      nameChange(scope){
        scope.row.NameEdit=false;
        scope.row.ConvRate = scope.row.Name*6;
        scope.row.Manufacturer = scope.row.Name * scope.row.Memarks;
      },
      convRateChange(scope){
        scope.row.ConvRateEdit=false;
        scope.row.Name = scope.row.ConvRate / 6;
        scope.row.Manufacturer = scope.row.Name * scope.row.Memarks;
      },
      memarksChange(scope){
        scope.row.MemarksEdit=false;
        scope.row.Manufacturer = scope.row.Name * scope.row.Memarks;
      },
      //单元格双击，开启可编辑
      dbHandle:function(row, column, cell, event){
        let key = column.property+'Edit';
        this.$set(row, key, !row[key]);
        setTimeout(()=>{
          try{
            $("input",cell).focus();
          }catch(err){
          }
        },100);
      },
```
- 4.临时保存
```

			//表格双击（可编辑表格）
			dbrow: function(row, column, cell, event) {
				if($(cell).html().indexOf("<input") != -1) {
					return false;
				}
				var jname = column.property;

				if(jname != "Price" && jname != "Num" && jname != "SupNum" && jname != "SupPrice" && jname != "Remarks" && jname != "Code") {
					//如果当前列不允许编辑.则跳出
					return false;
				}
				var that = this;
				var $inp = $("<input type='text' style='width: 90%; margin-left: 5%;' class='rowinp' />");
				var rows = row;
				var $cell = $(cell);
				var index = $cell.parent().index(); //行坐标
				//console.log(row);

				var $oldhtml = $($cell.html());
				var val = $oldhtml.html();
				$inp.val(val);
				$cell.html("").append($inp);
				$inp.focus();
				// 回车辅件
				if(jname == "Code") {

					this.delIndex = index; //获取等坐标
					$inp.keyup(function(event) {
						// 如果是回车
						if(event.key === "Enter") {
							if(that.gys) {
								val = $inp.val();
								that.spStr = val;
								that.spzl_Click = true;
								// console.log(val);
							} else {
								that.bcxx = "请选择供应商";
								that.bcsb_Click = true; // 提示
								return
							}
						}
					});
				}

				// 失去焦点事件
				$inp.blur(function() {

					val = $inp.val();

					$oldhtml.html(val);
					$cell.html("").append($oldhtml);
					rows[jname] = val;
					let $parent = $cell.parent();
					// 改基本数量
					if(jname == "Num") {
						rows.SupNum = rows.Num / rows.ConvRate;
						rows.Total = rows.Num * rows.Price;

						$("td.SupNum .cell", $parent).html(rows.SupNum);
						console.log("rows.SupNum", rows.SupNum);
						//                      
					}
					// 改辅助数量
					else if(jname == "SupNum") {
						rows.Num = row.SupNum * rows.ConvRate;
						rows.Total = row.SupNum * rows.SupPrice;
						$("td.Num .cell").html(rows.Num);
						console.log("rows.Num", rows.Num);
						// 改价格
					} else if(jname == "Price") {

						rows.SupPrice = row.Price * rows.ConvRate;
						rows.Total = row.Num * rows.Price;

					} else if(jname == "SupPrice") {

						rows.Price = rows.SupPrice / rows.ConvRate;
						rows.Total = rows.SupPrice * rows.SupNum;

					}

					console.log("前", rows);
					// that.getTotal();
				});
			},
```